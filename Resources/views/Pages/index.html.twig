{#
   This file is part of the AlphaLemon CMS Application and it is distributed
   under the GPL LICENSE Version 2.0. To use this application you must leave
   intact this copyright notice.

   Copyright (c) AlphaLemon <webmaster@alphalemon.com>

   For the full copyright and license information, please view the LICENSE
   file that was distributed with this source code.

   For extra documentation and help please visit http://www.alphalemon.com

   @license    GPL LICENSE Version 2.0
#}

{% extends 'AlphaLemonCmsBundle:Panels:base.html.twig' %}

{% set domain = "al_pages" %}
{% set panel_class = 'al_panel_contents_width' %}

{% block al_sidebar_middle_inside %}
<div id="al_pages">

    {{ form_errors(pagesForm) }}
    {{ form_errors(pageAttributesForm) }}

    <div id="al_pages_attributes_section">
        <h2>{{ "Page attributes" | trans([], domain) }}</h2>
        <form id="al_page_form" class="form-horizontal">
            <div class="control-group bootstrap-form-item-margin-fixer">
                {{ form_label(pagesForm.pageName, "Page name" | trans([], domain), { 'label_attr': {'class': 'control-label'} }) }}
                <div class="controls">
                {{ form_errors(pagesForm.pageName) }} {{ form_widget(pagesForm.pageName, { 'attr': {'title': "The name of the page. It must be unique" | trans([], domain)}}) }}
                </div>
            </div>
            <div class="control-group bootstrap-form-item-margin-fixer">
                {{ form_label(pagesForm.template, "Template" | trans([], domain), { 'label_attr': {'class': 'control-label'} }) }}
                <div class="controls">
                {{ form_errors(pagesForm.template) }} {{ form_widget(pagesForm.template, { 'attr': {'title': "Choose one template from the current theme" | trans([], domain)}}) }}
                </div>
            </div>
            <div class="control-group">
                <label class="checkbox inline-checkbox">
                    {{ form_errors(pagesForm.isPublished) }} {{ form_widget(pagesForm.isPublished) }}
                    {{ form_label(pagesForm.isPublished, "Published") }}
                </label>  
                <label class="checkbox inline-checkbox">
                    {{ form_errors(pagesForm.isHome) }} {{ form_widget(pagesForm.isHome) }}
                    {{ form_label(pagesForm.isHome, "Home page") }}
                </label>  
            </div>
        </form>
    </div>
    
    <div id="al_pages_seo_attributes_section">
        <h3>{{ "SEO - Search Engines Optimization" | trans([], domain) }}</h3>
        <form id="al_attributes_form" class="form-horizontal">
            <div class="control-group bootstrap-form-item-margin-fixer">
                {{ form_label(pageAttributesForm.permalink, "Permalink" | trans([], domain), { 'label_attr': {'class': 'control-label'} }) }}
                <div class="controls">
                {{ form_errors(pageAttributesForm.permalink) }} {{ form_widget(pageAttributesForm.permalink, { 'attr': {'title': "The displayed link name for the current language" | trans([], domain)}}) }}
                </div>
            </div>
            <div class="control-group bootstrap-form-item-margin-fixer">
                {{ form_label(pageAttributesForm.title, "Meta-Title" | trans([], domain), { 'label_attr': {'class': 'control-label'} }) }}
                <div class="controls">
                {{ form_errors(pageAttributesForm.title) }} {{ form_widget(pageAttributesForm.title, { 'attr': {'title': "The page title. It should be max 60 chars" | trans([], domain)}}) }}
                </div>
            </div>
            <div class="control-group bootstrap-form-item-margin-fixer">
                {{ form_label(pageAttributesForm.description, "Meta-Description" | trans([], domain), { 'label_attr': {'class': 'control-label'} }) }}
                <div class="controls">
                {{ form_errors(pageAttributesForm.description) }}  {{ form_widget(pageAttributesForm.description, { 'attr': {'rows': '4', 'cols': '28', 'title': "A brief description of the page" | trans([], domain)}}) }}
                </div>
            </div>
            <div class="control-group bootstrap-form-item-margin-fixer">
                {{ form_label(pageAttributesForm.keywords, "Meta-Keywords" | trans([], domain), { 'label_attr': {'class': 'control-label'} }) }}
                <div class="controls">
                {{ form_errors(pageAttributesForm.keywords) }} {{ form_widget(pageAttributesForm.keywords, { 'attr': {'rows': '3', 'cols': '28', 'title': "Deprecated by several Search Engines (It's strongly suggested to leave it blank)" | trans([], domain)}}) }}
                </div>
            </div>
        </form>

        <input id="al_page_saver" type="submit" value="{{ "Save" | trans([], "al_commands") }}" class="btn btn-primary pull-right" />
    </div>
</div>
{% endblock %}

{% block al_sidebar_right_inside %}
    <h2>{{ "Pages selector" | trans([], domain) }}</h2>
    <div>
        {{ form_label(pageAttributesForm.idLanguage, "Languages" | trans([], domain)) }}
        {{ form_errors(pageAttributesForm.idLanguage) }} {{ form_widget(pageAttributesForm.idLanguage) }}
    </div>

    <div id="al_pages_box" class="al_panel_box">
        <div class="al_panel_box_header">
            <span class="al_panel_box_header_title white-text-shadow">{{ "Site pages" | trans([], domain) }}</span>
        </div>
        <div id="al_pages_list" class="al_panel_list">
            {% include 'AlphaLemonCmsBundle:Pages:pages_list.html.twig' %}
        </div>
    </div>

    <input id="al_pages_remover" class="btn btn-danger pull-right" type="submit" value="{{ "Delete" | trans([], "al_commands") }}" />

    <div id="al_select_languages_reminder">{{ "And now select the language or remove the page!" | trans([], domain) }}</div>
{% endblock %}
